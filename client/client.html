<head>
	<title>Budget</title>
</head>

<body>
<div class="container">
	<div class="row">
		<h1>Budget App!</h1>

		<div class="span8">

			{{> events_calendar}}

			{{> events_table}}

			{{> add_event}}
		</div>
		<div class="span4">
			<h3 class="left">Snapshot</h3>
			<!--<div class="btn-group right">
				<button class="btn dropdown-toggle" data-toggle="dropdown">
					This Month
					<span class="caret"></span>
				</button>
				<ul class="dropdown-menu">
					<li><a href="#">This Month</a></li>
					<li><a href="#">This Week</a></li>
					<li><a href="#">This Quarter</a></li>
				</ul>
			</div>-->
			<br class="clear" />

			{{> snapshot}}
		</div>
	</div>
</div>
</body>

<template name="snapshot">
	<span id="income">{{total_income}}</span>
	<span id="expenses">{{total_expenses}}</span>
	<span id="difference">{{difference}}</span>
</template>

<template name="events_calendar">
	<div id="calendar"></div>
</template>

<template name="events_table">
	<table class="table table-striped" width="100%">
		<thead>
		<tr>
			<th>Name</th>
			<th>Type</th>
			<th>Date</th>
			<th>Amount</th>
			<th>Running Total</th>
			<th>Actions</th>
		</tr>
		</thead>
		<tbody>
		{{#each calendar_events}}
			{{> event}}
		{{/each}}
		</tbody>
	</table>
</template>

<template name="event">
	<tr>
		<td>{{name}}</td>
		<td>{{type}}</td>
		<td>{{due}}</td>
		<td>{{amount}}</td>
		<td>{{run_total}}</td>
		<td>
			<a class="btn btn-danger delete">Delete</a>
			<a class="btn edit" data-id="{{_id}}">Edit</a>
		</td>
	</tr>
</template>

<template name="add_event">
	<a class="add-event btn btn-primary">Add Event</a>

	<div class="modal hide fade" id="add-event-modal">
		<div class="modal-header">
			<a href="#" class="close" data-dismiss="modal">x</a>

			<h3>Add Event</h3>
		</div>
		<div class="modal-body">
			<form class="form-horizontal" id="add-event-form">
				<input type="hidden" name="_id"/>

				<div class="control-group">
					<label class="control-label">Name</label>

					<div class="controls">
						<input type="text" name="name"/>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">Type</label>

					<div class="controls">
						<select name="type">
							<option value="bill">Bill Due</option>
							<option value="income">Income</option>
						</select>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">Amount</label>

					<div class="controls">
						<input type="text" name="amount"/>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">Date</label>

					<div class="controls">
						<input type="text" name="date" class="datepicker"/>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">Recurring?</label>
					<div class="controls">
						<select name="recurring">
							<option value="">- None -</option>
							<option value="weekly">Weekly</option>
							<option value="monthly">Monthly</option>
							<option value="bimonthly">Bi-Monthly</option>
							<option value="yearly">Yearly</option>
						</select>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">&nbsp;</label>

					<div class="controls">
						<input type="submit" class="btn btn-success save-event" value="Save"/>
					</div>
				</div>
			</form>
		</div>
	</div>
</template>